<!doctype html>
<html>
	<head>
        <meta charset="UTF-8">
        <title>RoomVer</title>
        <meta name="viewport" content="width=device-width">
		<link rel="stylesheet" type="text/css" href="style.css">
		<script type="text/javascript" src="Scripts/DeviceOrientationHandler.js"></script>
		<style>
			body { margin: 0; }
			canvas { display: block; }
            h1 {margin: 10px;}
		</style>
	</head>
	<body>
		<div id="overlay">
			<div>
				<button id="startButton">Start</button>
				<p>Using device orientation might require a user interaction.</p>
			</div>
		</div>
        <!-- <div class="header">
			<h1>Room Verification Tool</h1>
			<p>Rotate your device to record a 360-degree room view</p>
		</div>
		<br> -->
		<!-- <button onclick="requestOrientationPermission();">Request Orientation Permission</button> -->
		<!-- <div class="container" style="perspective: 200;">
			<img src="monashlogo.jpg" id="imgLogo" class="logo">
		</div> -->
		<!-- Camera -->
		<main id="camera">
			<div class="infotable">
				<!-- <h2>Device Orientation</h2> -->
				<table>
				<tr>
					<td>Event Supported</td>
					<td id="doEvent"></td>
				</tr>
				<tr>
					<td>Tilt Left/Right [gamma]</td>
					<td id="doTiltLR"></td>
				</tr>
				<tr>
					<td>Tilt Front/Back [beta]</td>
					<td id="doTiltFB"></td>
				</tr>
				<tr>
					<td>Direction [alpha]</td>
					<td id="doDirection"></td>
				</tr>
				</table>
			</div>

		<!-- <h2>capture=camcorder</h2>
			  <input type="file" accept="video/*;capture=camcorder"></input> -->
			  
		    <!-- Camera sensor -->
		    <canvas id="camera--sensor"></canvas>
		    
		    <!-- Camera view -->
		    <video id="camera--view" autoplay playsinline></video>
		    
		    <!-- Camera output -->
		    <img src="//:0" alt="" id="camera--output">

		    <!-- Camera trigger -->
		    <button id="camera--trigger">Take a picture</button>

		</main>
		<!-- Reference to your JavaScript file -->
		<script type="text/javascript" src="Scripts/DeviceCameraControl.js"></script>
        <script>
           	var startButton = document.getElementById( 'startButton' );
			startButton.addEventListener( 'click', function () {
				requestOrientationPermission();
				// cameraStart();
				init();
				animate();

			}, false );

			function init(){
				var overlay = document.getElementById( 'overlay' );
				overlay.remove();
			}

			function animate() {
				window.requestAnimationFrame( animate );
			}
		</script>
		<script type="text/javascript" src="Scripts/three.min.js"></script>
		<script>
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

			var renderer = new THREE.WebGLRenderer();
			renderer.setSize(window.innerWidth, window.innerHeight);
			document.body.appendChild(renderer.domElement);

			var geometry = new THREE.SphereGeometry( 5, 32, 32 );
			var material = new THREE.MeshBasicMaterial({ color: 0xffff00 });
			var sphere = new THREE.Mesh(geometry, material);
			scene.add(sphere);

			camera.position.z = 5;

			var animate = function () {
				requestAnimationFrame( animate );

				// cube.rotation.x += 0.01;
				// cube.rotation.y += 0.01;

				renderer.render( scene, camera );
			};

			animate();
		</script>
	</body>
</html>