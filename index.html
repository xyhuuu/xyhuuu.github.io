<!doctype html>
<html>
	<head>
        <meta charset="UTF-8">
        <title>RoomVer</title>
        <meta name="viewport" content="width=device-width">
		<link rel="stylesheet" type="text/css" href="style.css">
		<script type="text/javascript" src="Scripts/DeviceOrientationHandler.js"></script>
		<script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
		<style>
			body { margin: 0; }
			canvas { display: block; }
            h1 {margin: 10px;}
		</style>
	</head>
	<body>
		<div id="overlay">
			<div>
				<button id="startButton">Start</button>
				<p>Using device orientation might require a user interaction.</p>
			</div>
		</div>
        <!-- <div class="header">
			<h1>Room Verification Tool</h1>
			<p>Rotate your device to record a 360-degree room view</p>
		</div>
		<br> -->
		<!-- <button onclick="requestOrientationPermission();">Request Orientation Permission</button> -->
		<!-- <div class="container" style="perspective: 200;">
			<img src="monashlogo.jpg" id="imgLogo" class="logo">
		</div> -->
		<!-- Camera -->
		<main id="camera">
			<div class="infotable">
				<!-- <h2>Device Orientation</h2> -->
				<table>
				<tr>
					<td>Event Supported</td>
					<td id="doEvent"></td>
				</tr>
				<tr>
					<td>Tilt Left/Right [gamma]</td>
					<td id="doTiltLR"></td>
				</tr>
				<tr>
					<td>Tilt Front/Back [beta]</td>
					<td id="doTiltFB"></td>
				</tr>
				<tr>
					<td>Direction [alpha]</td>
					<td id="doDirection"></td>
				</tr>
				</table>
			</div>

		<!-- <h2>capture=camcorder</h2>
			  <input type="file" accept="video/*;capture=camcorder"></input> -->
			  
			<div id="container">
				<!-- Camera sensor -->
				<!-- <canvas class="canvas" id="cubecanvas"></canvas> -->
				<canvas class="canvas" id="camera--sensor"></canvas>
				<a-scene class="canvas" id="cubecanvas">
					<a-box id="box" position="0 1 0" rotation="0 0 0" color="#4CC3D9"></a-box>
					<!-- <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E"></a-sphere>
					<a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder>
					<a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>
					<a-sky color="#ECECEC"></a-sky> -->
				  </a-scene>
				
			</div>
		    
		    <!-- Camera view -->
		    <video id="camera--view" autoplay playsinline></video>
		    
		    <!-- Camera output -->
		    <img src="//:0" alt="" id="camera--output">

		    <!-- Camera trigger -->
		    <button id="camera--trigger">Take a picture</button>

		</main>
		<!-- Reference to your JavaScript file -->
		<script type="text/javascript" src="Scripts/DeviceCameraControl.js"></script>
        <script>
           	var startButton = document.getElementById( 'startButton' );
			startButton.addEventListener( 'click', function () {
				requestOrientationPermission();
				// cameraStart();
				init();
				animate();

			}, false );

			function init(){
				var overlay = document.getElementById( 'overlay' );
				overlay.remove();
			}

			function animate() {
				window.requestAnimationFrame( animate );
			}
		</script>
		<!-- <script type="text/javascript" src="Scripts//gl-matrix.js"></script>
		<script type="text/javascript" src="Scripts/webgl-demo.js"></script> -->
	</body>
</html>